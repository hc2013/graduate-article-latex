%%]dvipdfm
\documentclass[oneside, master, review,openany]{NJUthesis}
%\documentclass[twoside, master]{NJUthesis}

% 可选参数：
%   review 审阅模式，激活后个人、导师与学校信息均被隐去
%   oneside/twoside 单面/双面打印
%   phd/master 博士/硕士论文
% 下面三个选一个：
% dvi2pdf 使用 dvi2pdf(x) 生成最终的 PDF 文档 (缺省设置，不建议修改）
% dvips 使用 dvips 生成最终的 PS 文档
% pdftex 使用 pdfLaTeX 生成最终的 PDF 文档

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% 导言区
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% 小节标题靠左对齐
\CTEXsetup[format+={\flushleft}]{section}

% 设置链接颜色
\hypersetup{
% pdf 属性
             pdftitle={LaTeX Thesis Template of Nanjing University}, %
            pdfauthor={San Zhang}
}

% 表格
\usepackage{longtable, multirow}
% 英文使用 Times 字体
\usepackage{times}
% 源代码
\usepackage{fancyvrb}
% 自定义列表样式
\usepackage{enumitem}
\usepackage{url}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{moreverb}
\usepackage{txfonts}
\usepackage{mathcomp}
\usepackage{graphicx}
\usepackage{subfigure}
\usepackage[linesnumbered,boxed,ruled,vlined]{algorithm2e}
\usepackage{array}
\usepackage{multirow}

%%	added by Jiang
\usepackage{extarrows}	%使用长箭头
\usepackage{nomencl}	%与术语表有关的包
\usepackage{booktabs}
\usepackage{ccmap}


\makenomenclature

\setcounter{topnumber}{5}

\theoremstyle{plain}
\newtheorem{definition}{\hspace{2em}定义}[chapter]
\newtheorem{lemma}{\hspace{2em}引理}[chapter]
\newtheorem{theorem}{\hspace{2em}定理}[chapter]
\newtheorem{property}{\hspace{2em}性质}[chapter]
\newtheorem{example}{\hspace{2em}例}[chapter]
\newtheorem{myrule}{\hspace{2em}规则}[chapter]


\newcommand{\tabincell}[2]{\begin{tabular}{@{}#1@{}}#2\end{tabular}}% 表格内换行
\renewcommand{\footnoterule}{%脚注线
  \kern -3pt
  \hrule width 2.3in height 0.4pt
  \kern 2pt
}


\begin{document}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% 封面部分
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% 国家图书馆封面内容字符串
% 仅博士需要填写并保证模板参数选择了 phd
\classification{}
\confidential{}
\UDC{}
\titlelinea{南京大学学位论文}
\titlelineb{~\LaTeX{}~模板}
\titlelinec{}
\advisorinfo{南京大学~软件学院}
\chairman{XXX 教授}
\reviewera{某某某某　副研究员}
\reviewerb{XXX 教授}
\reviewerc{XXX 教授}
\reviewerd{XXX 教授}
\nlcfootdate{~年~~月~~日}

% 南大中文封面内容字符串
\title{基于优先点树和地图瓦片的地理轨迹数据服务的设计和实现}
\author{\kaishu 韩淳}
\studentnum{MF1732038}
\grade{2017}
\advisor{\kaishu 刘海涛~~讲师}

\major{\kaishu 软件工程}
\researchfield{\kaishu 软件工程}
\footdate{\kaishu2019~年~3~月}
\submitdate{\kaishu~年~~月~~日}
\defenddate{\kaishu~年~~月~~日}



% 英文封面内容字符串
\englishtitle{Using a Hammer to Crack a Nut}
\englishauthor{San Zhang}
\englishadvisor{Advisor Title}
\englishadvisorname{~~Si Li}
\englishinstitute{Software Institute}
\englishdegree{Master of Engineering}
\englishmajor{Software Engineering}
\englishdate{May 20xx}

% 制作封面命令
\maketitle

%\makechinesetitle

% 制作英文封面命令
\makeenglishtitle


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% 前言部分
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\frontmatter

\begin{abstract}

地理数据，是直接或间接关联着地球上某个地点的数据，也是表示地理位置、分布特点的自然现象和社会现象的诸要素数据。在使用地理数据的用户业务中，一个新颖而有实用价值的研究方向是针对地理轨迹的相似性分析。例如在进行犯罪同伙分析时，一般的犯罪同伙，都有着相同或者类似的运动轨迹。通过对相似轨迹的检索和相似度的排序，可以迅速找出最有可能协同犯罪的嫌疑人，从而极大提高侦察的效率。除此之外，类似的问题场景还包括船舶，火车货运路线类同调整，旅游线路的修正等等，这些都是基于实体运动轨迹相似性的高价值商用功能。而目前业界相关系统基本上都是关注轨迹的存储，展示和跟踪，对于轨迹相似性检索，并没有良好而稳定的解决方案。

针对以上问题，本文设计和实现了一个高性能的地理轨迹数据服务。主体思路是分别构建轨迹数据服务和地图瓦片数据服务，然后分别从这两个服务中获取轨迹数据和地图瓦片数据，再利用前端库整合两份数据共同显示在浏览器上，从而让用户方便快捷地使用轨迹相似分析功能。除此之外，本文还为轨迹数据服务设计和实现了轨迹数据插入和初始建立轨迹索引的功能，从而实现了完善的轨迹数据服务功能。

与本文设计和实现相关的技术概念包括优先点树结构、原理，Lucene结构和检索原理，以及地图瓦片相关技术标准。之所以选择优先点树作为轨迹索引的结构，是因为其提供了基于轨迹空间距离的良好的搜索性能和稳定性，而地图瓦片的相关技术，则是地图信息可视化的必然选择。

文章的主要工作就是介绍以上两个数据服务的设计和实现。首先，本文介绍了目前在地理轨迹数据服务中涉及到的，主要的技术概念和相关标准。在后续章节中，对整个系统进行了需求分析，并使用软件架构4+1视图模型进行整体架构的设计。然后分两个章节介绍了轨迹数据服务和地图瓦片数据服务这两个主要功能子服务的详细设计和实现。在该过程中还讨论并分析了系统中出现的一些性能以及模型上的问题，提供了更好的解决方案。最后，详细分析了整个服务对地理轨迹数据相似分析方面的效果提升。

地理轨迹数据服务，（Geographic trajectory data service, 以下简称GTDS)，通过构建独立的轨迹索引结构和通用的瓦片数据服务，实现了轨迹数据的相似检索，插入更新，初始化以及可视化功能，解决了用户应用中一些难题，提高了系统的可用性。文章的最后部分，通过总结和展望，对该技术以及应用前景进行了一些分析。

\keywords{地理数据，轨迹数据，地图瓦片数据，优先点树，轨迹相似检索}

\end{abstract}

% 英文摘要
\begin{englishabstract}

Geographic data is data that directly or indirectly relates to a certain place on the earth. It is also the data of the natural phenomena and social phenomena that represent the geographical location and distribution characteristics. In the user business using geographic data, a novel and practical research direction is to analyze the similarity of geographic trajectories. For example, in the analysis of criminal accomplices, the general criminal accomplices have the same or similar trajectories. Through the retrieval of similar trajectories and the ranking of similarities, the suspects who are most likely to cooperate with crimes can be quickly identified, thus greatly improving the efficiency of reconnaissance. In addition, similar problem scenarios include ships, train freight routing adjustments, travel route corrections, etc. These are high-value commercial functions based on the similarity of physical motion trajectories. At present, the relevant systems in the industry are basically concerned with the storage, display and tracking of trajectories. There is no good and stable solution for trajectory similarity retrieval.

In response to the above problems, this thesis designs and implements a high-performance geographic trajectory data service. The main idea is to construct the trajectory data service and the map tile data service respectively, and then obtain the trajectory data and the map tile data from the two services respectively, and then use the front-end library to integrate the two pieces of data and display them on the browser, thereby allowing the user to use trajectory similarity analysis function conveniently and quickly. In addition, this thesis also designs and implements the function of trajectory data insertion and initial trajectory indexing for trajectory data service, thus realizing the perfect trajectory data service function.

The technical concepts related to the design and implementation of this thesis include vantage point tree structure, principle, Lucene structure and retrieval principle, and technical standards related to map tiles. The vantage point tree is selected as the structure of the track index because it provides good search performance and stability based on the track space distance, and the related technology of the map tile is an inevitable choice for the visualization of the map information.

The main work of the article is to introduce the design and implementation of the above two data services. First of all, this thesis introduces the main technical concepts and related standards currently involved in geographic trajectory data services. In the subsequent chapters, the entire system was analyzed for requirements and the overall architecture was designed using the software architecture 4+1 view model. Then two chapters introduce the detailed design and implementation of the two main functional sub-services of the trajectory data service and the map tile data service. In this process, some performance and model problems appearing in the system are also discussed and analyzed, providing a better solution. Finally, the effect of the whole service on the similar analysis of geographic trajectory data is analyzed in detail.

Geographic trajectory data service (GTDS), by constructing independent trajectory index structure and general tile data service, realizes similar retrieval of trajectory data, inserting update, initialization and visualization functions, solving some challenges of users in the application and increasing the availability of the system. In the last part of the article, through the summary and outlook, some analysis of the technology and application prospects are provided.


\englishkeywords{Geographic data, trajectory data, map tile data, vantage point tree,trajectory similarity retrieval}
\end{englishabstract}

% 生成目录命令（目录中不包含目录本身）
\addtocontents{toc}{\protect\setcounter{tocdepth}{-1}}
\tableofcontents
\addtocontents{toc}{\protect\setcounter{tocdepth}{3}}


% 以下两个目录可根据具体情况注释掉（将表格目录和图形目录重命名后加入目录）
% 生成表格目录命令
\renewcommand*{\listtablename}{表~~目~~录}
\listoftables
\addcontentsline{toc}{chapter}{表~~目~~录}
% 生成插图目录命令
\renewcommand*{\listtablename}{图~~目~~录}
\listoffigures
\addcontentsline{toc}{chapter}{图~~目~~录}

%生成术语表命令
%\include{chapter/Nomenclatures}
%\def\nomname{缩略语对照表}
%\printnomenclature[5em]

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% 正文部分
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\mainmatter

\input{new_chapter/Introduction.tex}

\input{new_chapter/Technical_review.tex}

\input{new_chapter/System_requirement_analysis_and_summary_design.tex}

\input{new_chapter/System_detailed_design_and_implementation.tex}
\input{new_chapter/System_detailed_design_and_implementation2.tex}

\input{new_chapter/System_running_and_performance_test.tex}

\input{new_chapter/Summary_and_outlook.tex}
% 参考文献

\backmatter
\bibliography{reference}



%个人简介
\Nchapter{简历与科研成果}
\noindent {\heiti 基本情况}
\vspace{1ex}
\noindent 韩淳，男，汉族，1994~年~8~月出生，吉林省松原市人。
\vspace{2ex}

\noindent {\heiti 教育背景}
\begin{description}[labelindent=0em, leftmargin=8em, style=sameline]
\item[2017.9～2019.6] 南京大学软件学院 \hfill 硕士
\item[2013.9～2017.6] 南京大学软件学院 \hfill 本科
\end{description}
% 发表文章目录

\noindent {\heiti 这里是读研期间的成果（实例为受理的专利）}

\begin{enumerate}[label=\arabic*., labelindent=0em, leftmargin=*]
	\item 刘海涛，\textbf{韩淳}，``基于优先点树和地图瓦片的地理轨迹数据服务的设计和实现''，申请号：20xx1018xywz.a，已受理。
\end{enumerate}






\begin{thanks}

\vskip 18pt

衷心感谢我的指导老师，感谢刘海涛老师在这近一年的论文写作过程当中给予我的悉心指导和帮助。郑老师和刘老师平易近人的生活作风、严谨求实的治学态度以及一丝不苟、勤勤恳恳的工作精神将永远是我学习的榜样。
感谢星环科技分布式存储部门给我提供一个良好的学习和实践的机会，一个能将理论知识运用于实践的理想场所。在这里，有幸参与到相似轨迹检索相关工作，让我接触到了很多业界最新的技术和观念，获得了许多书本上学不到的知识和
技能，这将对我以后的生活和工作产生深远的影响。感谢项目组的同事们在项目的开发过程中给我的无私帮助和指导，从他们身上我学到了很多工作的方法和做人的道理，在百度实习的日子是我永远难忘的记忆。
能够成为南京大学软件学院的硕士学员，能够在这里结识这位老师和朋友，我感到非常骄傲！衷心祝愿南京大学软件学院能够越来越灿烂和辉煌。最后，向答辩委员会的各位老师致以深深的谢意，感谢你们所付出的辛勤
的工作！

\end{thanks}


\end{document}


