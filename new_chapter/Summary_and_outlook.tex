\chapter{总结和展望}

\section{总结}
随着移动互联网和地理定位技术的发展成熟，运动实体产生的地理空间轨迹数据被大量地记录下来。在海量的轨迹数据中，蕴含着丰富的人类社会活动规律。而在这些规律中，轨迹的相似性，是揭示实体运动关联性的重要指标。为了满足用户对大数据量地理轨迹的相似检索和可视化需求，本文设计和开发了地理轨迹相似性分析服务。

本文的前两章节分别介绍了项目背景和所涉及到的技术标准以及每一项技术在系统实现中的作用，包括使用优先点树作为轨迹索引结构，以全文检索库lucene作为检索基础库，用地图瓦片作为可视化服务的基础单元，为了实现通用性而满足Mapbox 技术标准以及使用Nodejs Express 框架作为服务基础框架等。

本文第三章通过概述系统整体结构，对最重要的两个功能子模块，轨迹数据服务和地图瓦片数据服务，分别通过用例图和用例描述的方式进行需求分析，对需求的正常流程和可能出现问题的异常流程进行了详细说明。最后使用软件架构4+1模型，从逻辑蓝图，过程蓝图，开发蓝图，物理蓝图和场景脚本等多个角度对系统整体架构进行了设计。

第四章和第五章分别针对轨迹数据服务和地图瓦片数据服务，这两个主要功能子模块进行了详细设计与实现的阐述。使用类图，算法流程图和原理示意图说明设计思路和问题解决办法。针对每一个设计焦点进行了详细讲解，用具体的代码展示和说明来阐述实现细节。并在这一过程中，对每一重点设计决策的意义和局限性进行了分析，提出了更好的解决方案。除此之外，还为重要的功能展示了服务运行界面效果和Rest接口调用示例。

最后，本文的第六章介绍了系统的测试情况，包括测试数据的来源和测试的软硬件环境。然后以测试用例描述表的方式，阐述了单元测试和功能测试的测试过程和结果。最后使用折线图和条形图给出了系统性能测试结果。

\section{进一步工作展望}
地理轨迹相似性分析服务还有进一步的发展空间。从索引结构上看，目前实现的版本是是单个优先点的多路树，这种结构的剪枝性能在数学上被证明不如另一种多优先点多路树好，未来可以考虑更改VpTree为Mvp-Tree，从而进一步提升检索性能。

当前版本对于轨迹相似检索考虑的标准是几何距离，而没有考虑轨迹数据点的次序和方向性，这使得轨迹本身的属性有一定的损失，造成检索精度的下降。未来可以考虑加入对方向和次序的考量，从而提高检索精度。

当前实现中，轨迹索引初始建立时间较长，与优先点选取算法过于繁琐，计算量太大有关。这也是可以优化的地方。除此之外，轨迹索引常驻内存也较大，这与距离缓存过多而缺乏过期策略有关，未来可以通过更好的数据缓存管理来减少常驻内存的使用。

对于地图瓦片数据服务，当前版本的瓦片更新的粒度最小也是一个瓦片，这个粒度太粗，未来应该提升到对瓦片内部结构的更新功能。

综上所述，地理轨迹相似性分析服务还有诸多可以改进的地方，这些也是未来优化和发展的方向。


