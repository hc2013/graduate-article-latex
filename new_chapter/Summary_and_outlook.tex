\chapter{总结和展望}

\section{总结}
为了满足用户对大数据量地理轨迹的相似检索和可视化需求，设计和开发了地理轨迹相似检索服务。其中分别针对ElasticSearch数据库扩展和实现了单独的优先点树索引结构，以及设计和实现了单独的地图瓦片数据服务，两者结合，共同为前端服务，从工程角度实现了轨迹相似检索可视化的功能，解决了用户的商业需求。

本文首先介绍了项目背景和相关项目的研究现状。然后对本文所涉及的相关技术如ElasticSearch,优先点树，MapBox-GL标准，nodejs Express框架等进行了介绍。随后给出了系统的基本架构并通过用例图，用例描述，功能列表等方式分析了各个模块的需求。最后，分别针对优先点树初始建树，KNN问题检索和地理瓦片局部更新功能这三个场景，通过程序流程图和类图介绍了详细设计，并以关键性代码展示了功能实现的细节。
\section{进一步工作展望}
地理轨迹相似性检索服务还有进一步的发展空间。从检索算法上看，目前实现的版本是是单个优先点的多路树，这种结构的剪枝性能在数学上被证明不如另一种多优先点多路树更好。未来可以考虑更改Vptree的具体实现。另外，当前对于轨迹相似检索考虑的标准是几何距离，而没有考虑轨迹的方向性，这使得检索本身的精度有一定的损失，未来可以加入对方向数据的考量。而对于地理瓦片数据服务，当前版本的cache\_service采用最简单的LRU剔除策略，这种剔除策略本身忽视了地理数据本身具有的垂直连续性和水平连续性，使得剔除的准确度并不良好，容易发生缓存抖动等状况，进一步的工作可以根据地理数据的特性实现更好的缓存替换策略，以提高缓存的性能。

除此之外，当前实现中，DistanceCache 并没有设计任何过期替换策略，所有出现过的distance都被缓存了，这在运行时可能会出现大量占用内存的状况，在未来的版本中，会优化这一点。
